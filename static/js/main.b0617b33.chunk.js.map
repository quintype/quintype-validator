{"version":3,"sources":["migrator/migrator.module.css","quintype-logo.js","home-component.js","migrator/Heading.js","migrator/ResultList.js","migrator/FileDownload.js","migrator/validator-utils.js","migrator/Result.js","migrator/InputField.js","migrator/ValidationForm.js","migrator/promise-concurrent-queue.js","migrator/Migrator.js","error-404.js","index.tsx"],"names":["module","exports","QuintypeLogo","id","width","height","data-name","xmlns","viewBox","fill","d","GetUrlComponent","e","preventDefault","this","props","onSubmit","url","accepted","length","reader","FileReader","onload","x","onImport","JSON","parse","target","result","readAsText","Fragment","accept","onDrop","importResult","className","acceptClassName","rejectClassName","disableClick","submit","value","placeholder","onChange","type","React","Component","Sidebar","to","activeClassName","ResultSection","state","active","errors","warnings","expandable","children","onClick","setState","title","status","map","error","index","key","DebugSection","href","rel","_","results","entries","flatMap","category","debug","toRow","links","link","onValidate","Results","showResult","undefined","structured","numObjects","contentId","onDownload","HomeComponent","response","loading","request","post","process","then","body","catch","message","loadRules","blob","Blob","stringify","FileSaver","saveAs","processUrl","import","downloadResponse","Heading","styles","heading","content","ResultList","finalResult","errorItems","metadata","Object","values","item","warningItems","warning","label","FileDownload","color","selectOptions","validateOptions","createRequest","userData","requestData","validateType","selectType","options","method","headers","Accept","keepalive","data","FormData","append","formErrorMetadata","dataType","affectedData","info","toLowerCase","Result","total","successful","failed","additionalProperties","required","wrongEnumValue","enum","minLength","maxLength","exceptions","minItems","uniqueKey","invalidURL","invalidSlug","invalidTimestamp","oldTimestamp","invalidEmail","authorNamesMismatch","pattern","invalidHeroImage","push","errorFileLink","errorAggregations","fileString","errorType","logLevel","forEach","errorMessage","createFileErrorMessage","ids","replace","formErrorFile","errorFile","pluralKey","slice","errorObj","join","split","subPath","limit","expectedType","expectedValue","username","name","value1","parseResult","download","Date","now","InputField","onInput","fieldLabel","accepts","size","uploadFile","promiseQueue","concurrentPromises","promiseResolved","Symbol","runningPromises","f","args","Promise","resolve","reject","runPromise","shift","console","apply","emit","err","EventEmitter","ValidationForm","onChangeValidateType","onChangeSelectType","textInput","fileInput","mergeError","accumulatedErrors","currentErrors","currentError","accumulatedError","find","concat","resultReducer","accumulator","Array","isArray","validateFromS3","requestOptions","a","fetch","json","fileList","sendData","validationPromises","smallFileList","filter","file","largeFileList","chunk","files","s3FileListOption","path","addPromise","rejection","all","reduce","log","formEnabled","submitEnabled","disabled","Migrator","setData","migrator","container","Error404","Validator","basename","exact","from","component","ErrorPage","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.b0617b33.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"migrator\":\"migrator_migrator__2neCI\",\"heading\":\"migrator_heading__12-aT\",\"content\":\"migrator_content__1qtIz\",\"container\":\"migrator_container__dkj66\",\"result-heading\":\"migrator_result-heading__2i9Ag\",\"download\":\"migrator_download__sA3LK\",\"result-statistics\":\"migrator_result-statistics__2W2_y\",\"statistic-heading\":\"migrator_statistic-heading__SxGSl\",\"statistic-reading\":\"migrator_statistic-reading__2H8Z4\",\"success-reading\":\"migrator_success-reading__3Lyce\",\"fail-reading\":\"migrator_fail-reading__3IRUA\",\"result-messages\":\"migrator_result-messages__3CNEI\",\"error-message\":\"migrator_error-message__3LAkm\",\"error-metadata\":\"migrator_error-metadata__1nYcR\",\"error-level\":\"migrator_error-level__fK7N_\",\"error-list\":\"migrator_error-list__2qkwB\",\"warning-list\":\"migrator_warning-list__MOLnC\",\"success-list\":\"migrator_success-list__UhGH3\"};","import React from \"react\";\n\nconst QuintypeLogo = () => (\n<svg id=\"Layer_1\" width=\"48\" height=\"48\" data-name=\"Layer 1\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 40 40\"><defs></defs><path fill=\"#fff\" d=\"M23.58,11.75a18.09,18.09,0,0,1,0,17.89Zm0,18.79a10.79,10.79,0,0,1-4.34.15c-2.62-.38-4.06-3.6-4.06-3.6l6.21-1.72v-16l2.19,2.23ZM14,20.91c0-3.16.22-7.12.22-7.12l2.18-.85V26.79L15,27.25A25.11,25.11,0,0,1,14,20.91Zm17.74,9.62-1.35,1.71a4.44,4.44,0,0,0-5.26-2s7-4.58,6.27-12.4A17,17,0,0,0,24.74,5.8c-.38-.24-5.52,5.64-10.84,7.14,0,0,.24-5.55,4.24-6V6.18S8,7.66,8,20.11c0,0,.39,10.85,10.79,11.31l4,.18s3.41-.18,4.1,4.75l.52.44,4.55-6Z\"></path></svg>\n)\nexport default QuintypeLogo;","import \"./app.scss\";\n\nimport React from \"react\";\nimport request from \"superagent-bluebird-promise\";\nimport Dropzone from \"react-dropzone\";\nimport { NavLink } from \"react-router-dom\";\nimport _ from \"lodash\";\n\nimport FileSaver from \"file-saver\";\nimport QuintypeLogo from \"./quintype-logo\";\nclass GetUrlComponent extends React.Component {\n  submit(e) {\n    e.preventDefault();\n    this.props.onSubmit(this.props.url);\n  }\n\n  importResult(accepted) {\n    if (accepted.length !== 1) return;\n\n    const reader = new FileReader();\n    reader.onload = x => this.props.onImport(JSON.parse(x.target.result));\n    reader.readAsText(accepted[0]);\n  }\n\n  render() {\n    return (\n      <React.Fragment>\n        <Dropzone\n          accept=\"application/json\"\n          onDrop={accepted => this.importResult(accepted)}\n          className=\"url-dropzone\"\n          acceptClassName=\"url-dropzone-accept\"\n          rejectClassName=\"url-dropzone-reject\"\n          disableClick={true}\n        >\n          <form className=\"url-container\" onSubmit={e => this.submit(e)}>\n            <input\n              className=\"url-input\"\n              value={this.props.url}\n              placeholder=\"Enter Url\"\n              onChange={e => this.props.onChange(e.target.value)}\n            />\n            <input type=\"submit\" className=\"url-go\" value=\"Go!\" />\n          </form>\n        </Dropzone>\n      </React.Fragment>\n    );\n  }\n}\n\nexport class Sidebar extends React.Component {\n  render() {\n    return (\n      <div className=\"sidebar\">\n        <div className=\"sidebar-container\">\n          <QuintypeLogo />\n        </div>\n        <div className=\"menu\">\n          <div className=\"menu__container\">\n          <NavLink to=\"/website\" className=\"navbar\" activeClassName=\"is-active\">\n            <div className=\"menu__website logo\"></div>\n          </NavLink>\n          </div>\n          <div className=\"menu__container\">\n          <NavLink\n            to=\"/migrator\"\n            className=\"navbar\"\n            activeClassName=\"is-active\"\n          >\n            <div className=\"menu__migrator logo\"></div>\n          </NavLink>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport function Migrator() {\n  return (\n    <div>\n      \n    </div>\n  );\n}\n\nclass ResultSection extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      active: false\n    };\n  }\n\n  render() {\n    const errors = this.props.result.errors || [];\n    const warnings = this.props.result.warnings || [];\n    const expandable =\n      this.props.children || errors.length > 0 || warnings.length > 0;\n    return (\n      <section className={`result ${this.state.active && \"active\"}`}>\n        <header\n          className={`result-header ${expandable && \"expandable\"}`}\n          onClick={() =>\n            expandable && this.setState({ active: !this.state.active })\n          }\n        >\n          <div className=\"clearfix\">\n            <h2 className=\"result-title\">{this.props.title}</h2>\n            <h3\n              className={`result-status result-status-${\n                this.props.result.status\n              } ${warnings.length > 0 ? \"result-status-WARN\" : \"\"}`}\n            >\n              {this.props.result.status}\n            </h3>\n          </div>\n        </header>\n        <div className=\"result-body\">\n          {this.props.children && <div>{this.props.children}</div>}\n\n          {errors.length > 0 && (\n            <div>\n              <h4>Errors:</h4>\n              <ul>\n                {errors.map((error, index) => (\n                  <li key={index}>{error}</li>\n                ))}\n              </ul>\n            </div>\n          )}\n\n          {warnings.length > 0 && (\n            <div>\n              <h4>Warnings:</h4>\n              <ul>\n                {warnings.map((error, index) => (\n                  <li key={index}>{error}</li>\n                ))}\n              </ul>\n            </div>\n          )}\n        </div>\n      </section>\n    );\n  }\n}\n\nfunction toRow(category, key, value) {\n  return (\n    <tr key={`${category}/${key}`}>\n      <td>{category}</td>\n      <td className=\"debug-key\">{key}</td>\n      <td>{value}</td>\n    </tr>\n  );\n}\n\nclass DebugSection extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      active: false\n    };\n  }\n\n  render() {\n    return (\n      <section className={`result ${this.state.active && \"active\"}`}>\n        <header\n          className={`result-header expandable`}\n          onClick={() => this.setState({ active: !this.state.active })}\n        >\n          <div className=\"clearfix\">\n            <h2 className=\"result-title\">Debugging</h2>\n          </div>\n        </header>\n        <div className=\"result-body\">\n          <div>\n            For a full list of rules, please see{\" \"}\n            <a\n              href=\"https://github.com/quintype/quintype-validator\"\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n            >\n              Readme.md\n            </a>\n          </div>\n          <div>\n            <table>\n              <thead>\n                <tr>\n                  <th>Category</th>\n                  <th>Key</th>\n                  <th>Value</th>\n                </tr>\n              </thead>\n              <tbody>\n                {_(this.props.results)\n                  .entries()\n                  .flatMap(([category, result]) =>\n                    _(result.debug)\n                      .entries()\n                      .map(([key, value]) => toRow(category, key, value))\n                      .value()\n                  )\n                  .value()}\n              </tbody>\n            </table>\n          </div>\n          {this.props.links.length > 0 && (\n            <div>\n              <h4>Links:</h4>\n              <ul>\n                {this.props.links.map((link, index) => (\n                  <li key={index}>\n                    <button onClick={() => this.props.onValidate(link)}>\n                      validate\n                    </button>{\" \"}\n                    - {link}\n                  </li>\n                ))}\n              </ul>\n            </div>\n          )}\n        </div>\n      </section>\n    );\n  }\n}\n\nclass Results extends React.Component {\n  render() {\n    const showResult = (category, title) =>\n      this.props.results[category] ? (\n        <ResultSection title={title} result={this.props.results[category]} />\n      ) : (\n        undefined\n      );\n\n    return (\n      <div className=\"results\">\n        {showResult(\"amp\", \"AMP\")}\n        {showResult(\"headers\", \"Caching Headers\")}\n        {this.props.results.structured ? (\n          <ResultSection\n            title=\"Structured Data\"\n            result={this.props.results.structured}\n          >\n            <div>\n              Number of Objects: {this.props.results.structured.numObjects}\n            </div>\n            <div>Content Id: {this.props.results.structured.contentId}</div>\n          </ResultSection>\n        ) : (\n          undefined\n        )}\n        {showResult(\"og\", \"Facebook OG Tags\")}\n        {showResult(\"seo\", \"SEO Rules\")}\n        {showResult(\"robots\", \"Robots\")}\n        {showResult(\"pagespeed\", \"PageSpeed\")}\n        {showResult(\"lighthouseSeo\", \"Lighthouse SEO\")}\n        {showResult(\"lighthousePwa\", \"PWA\")}\n        {showResult(\"routeData\", \"Route Data Size\")}\n\n        <DebugSection\n          results={this.props.results}\n          links={this.props.links}\n          onValidate={this.props.onValidate}\n        />\n\n        <button\n          className=\"results-download\"\n          onClick={() => this.props.onDownload()}\n        >\n          Download As JSON\n        </button>\n      </div>\n    );\n  }\n}\n\nexport class HomeComponent extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      url: \"\",\n      response: null,\n      loading: false,\n      error: null\n    };\n  }\n\n  loadRules(url) {\n    request\n      .post(`${process.env.REACT_APP_API_HOST || \"\"}/api/validate.json`, {\n        url: url\n      })\n      .then(response =>\n        this.setState({\n          response: response.body,\n          loading: false,\n          url: response.body.url\n        })\n      )\n      .catch(e => this.setState({ loading: false, error: e.message }));\n  }\n\n  processUrl(url) {\n    if (this.state.loading) return;\n\n    this.setState(\n      {\n        url: url,\n        loading: true,\n        error: null\n      },\n      () => this.loadRules(url)\n    );\n  }\n\n  downloadResponse() {\n    const blob = new Blob([JSON.stringify(this.state.response)], {\n      type: \"application/json;charset=utf-8\"\n    });\n    FileSaver.saveAs(blob, \"validator.json\");\n  }\n\n  import(response) {\n    this.setState({\n      response: response,\n      error: null,\n      loading: false,\n      url: response.url\n    });\n  }\n\n  render() {\n    return (\n      <div>\n        <h1 className=\"website-heading\">Quintype Validator</h1>\n        <GetUrlComponent\n          onSubmit={url => this.processUrl(url)}\n          url={this.state.url}\n          onChange={url => this.setState({ url: url })}\n          onImport={result => this.import(result)}\n        />\n        {this.state.error && (\n          <div className=\"error-message\">{this.state.error}</div>\n        )}\n        {this.state.loading && <div className=\"loading\">Crunching Numbers</div>}\n        {!this.state.loading && this.state.response && (\n          <Results\n            results={this.state.response.results}\n            links={this.state.response.links}\n            onValidate={url => this.processUrl(url)}\n            url={this.state.response.url}\n            onDownload={() => this.downloadResponse()}\n          />\n        )}\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport styles from './migrator.module.css';\n\nexport default function Heading () {\n  return (\n    <section className={styles['migrator-heading']}>\n      <h1 className={styles.heading}>Migration Validator</h1>\n      <p className={styles.content}>\n          Migration Data Validator checks for the intermediate files for JSON\n          schema errors, File type & encoding errors and mandatory errors and\n          generates a report after the validation process is completed\n      </p>\n    </section>\n  )\n}\n","import React from 'react'\nimport { Accordion, AccordionSection } from '@quintype/em/components/accordion'\nimport styles from './migrator.module.css'\n\nexport default function ResultList ({ finalResult }) {\n  // add props for accordion labels\n\n  const errorItems = finalResult && finalResult.errors.map((error) => {\n    return (\n      <li>\n        <span className={styles['error-message']}>{error.message}</span>\n        {error.metadata && Object.values(error.metadata).map((item) => {\n          return (<p className={styles['error-metadata']}>{item}</p>)\n        })}\n      </li>\n    )\n  })\n\n  const warningItems = finalResult && finalResult.warnings.map((warning) => {\n    return (\n      <li>\n        <span className={styles['error-message']}>{warning.message}</span>\n        {warning.metadata && Object.values(warning.metadata).map((item) => {\n          return (<p className={styles['error-metadata']}>{item}</p>)\n        })}\n      </li>\n    )\n  })\n\n  return (\n    <>\n      <Accordion>\n        <AccordionSection\n          label='Details'\n          children={\n            <>\n              <p className={styles['error-level']}>Errors</p>\n              <ul className={styles['error-list']}>{errorItems}</ul>\n              <p className={styles['error-level']}>Warnings</p>\n              <ul className={styles['warning-list']}>{warningItems}</ul>\n            </>\n          }\n        />\n      </Accordion>\n    </>\n  )\n}\n","import React from 'react'\n\nconst FileDownload = ({ width = '24', height = '20', color = 'var(--brand-3)' }) => (\n  <svg width={width} height={height} fill={color} id='Layer_1' data-name='Layer 1' xmlns='http://www.w3.org/2000/svg'>\n    <path d='M13.5,8.52a.73.73,0,0,0,.23.56.75.75,0,0,0,.57.24h4.53V20.25a.79.79,0,0,1-.8.8H6.83a.79.79,0,0,1-.8-.8V4.78a.77.77,0,0,1,.23-.56A.78.78,0,0,1,6.83,4H13.5Zm2.53,7a.46.46,0,0,0,.13-.57.49.49,0,0,0-.5-.33H13.5V12a.52.52,0,0,0-.15-.38.54.54,0,0,0-.39-.15H11.9a.53.53,0,0,0-.39.15.52.52,0,0,0-.15.38v2.67H9.19a.5.5,0,0,0-.5.33.47.47,0,0,0,.14.57l3.2,3.2a.54.54,0,0,0,.4.17.56.56,0,0,0,.4-.17ZM18.6,7.48a.81.81,0,0,1,.23.57v.2H14.56V4h.2a.78.78,0,0,1,.57.24Z' />\n  </svg>\n)\n\nexport default FileDownload\n","const selectOptions = [\n  { label: 'Story', value: 'Story' },\n  { label: 'Section', value: 'Section' },\n  { label: 'Author', value: 'Author' },\n  { label: 'Entity', value: 'Entity' },\n  { label: 'Tag', value: 'Tag' }\n]\n\nconst validateOptions = [\n  { label: 'Direct text input', value: 'Direct text input' },\n  { label: 'File upload', value: 'File upload' },\n  { label: 'S3 path', value: 'S3 path' }\n]\n\nfunction createRequest ({ value: validateType }, { value: selectType }, userData) {\n  const options = {\n    method: 'POST',\n    headers: {\n      Accept: 'application/json',\n      keepalive:true\n    }\n  }\n  let requestData\n  if (validateType === 'Direct text input' || validateType === 'S3 path') {\n    options.headers['Content-Type'] = 'application/json'\n    requestData = JSON.stringify({\n      type: selectType,\n      data: userData\n    })\n  } else {\n    requestData = new FormData()\n    requestData.append('type', selectType)\n    requestData.append('file', userData)\n  }\n\n  options.body = requestData\n  return options\n}\n\nfunction formErrorMetadata (dataType, affectedData) {\n  const metadata = {}\n  if (dataType) {\n    metadata.info = `Affected count: ${affectedData.length}. Refer ${dataType.toLowerCase()} with external-id '${affectedData[0]}'.`\n  }\n  return metadata\n}\n\nfunction createFileErrorMessage (errorType) {\n  switch (errorType) {\n    case 'type': return 'wrongType'\n    case 'required': return 'requiredField'\n    case 'wrongEnumValue': return 'wrongValue'\n    case 'uniqueKey': return 'duplicateKey'\n    case 'pattern': return 'wrongPattern'\n    default: return errorType\n  }\n}\n\nfunction formErrorFile(errorAggregations) {\n  let fileString = 'data:application/octet-stream,error-type%2Cpath%2Clog-level%2Cexternal-id%0A'\n\n  for (const errorType in errorAggregations) {\n    const logLevel = (errorType === 'additionalProperties') || (errorType ==='oldTimestamp') ? 'warning' : 'error'\n    // eslint-disable-next-line no-loop-func\n    errorAggregations[errorType] && errorAggregations[errorType].forEach(error => {\n      const errorMessage = createFileErrorMessage(errorType)\n      if (error.ids) {\n        error.ids.forEach(id => {\n          fileString = `${fileString}${errorMessage}%2C${error.key && error.key.replace(/,/g, '/')}%2C${logLevel}%2C${id}%0A`\n        })\n      } else {\n        fileString = `${fileString}${errorMessage}%2C${error.key && error.key.replace(/,/g, '/')}%2C${logLevel}%2C' '%0A`\n      }\n    })\n  }\n\n  return fileString\n}\n\nfunction parseResult (result) {\n  const { dataType, total, successful, failed, additionalProperties, type, required, enum: wrongEnumValue, minLength, maxLength, exceptions, minItems, uniqueKey, invalidURL, invalidSlug, invalidTimestamp, oldTimestamp, invalidEmail, authorNamesMismatch, pattern, invalidHeroImage} = result\n  const finalResult = {}\n  finalResult.errors = []\n  finalResult.warnings = []\n  finalResult.successful = []\n  finalResult.total = total || 0\n  finalResult.successful = successful || 0\n  finalResult.failed = failed || 0\n  if (result.error) {\n    finalResult.errors.push({\n      message: `Error:${result.error}`\n    })\n    return finalResult\n  }\n\n  const errorFileLink = formErrorFile({ exceptions, type, required, wrongEnumValue, minLength, maxLength, minItems, uniqueKey, invalidURL, additionalProperties, invalidSlug, invalidTimestamp, oldTimestamp, invalidEmail, authorNamesMismatch, pattern, invalidHeroImage })\n  finalResult.errorFile = errorFileLink\n  const pluralKey = dataType === 'Story' ? `${dataType.toLowerCase().slice(0, 4)}ies` : `${dataType.toLowerCase()}s`\n  finalResult.dataType = pluralKey\n\n  exceptions && exceptions.forEach(error => {\n    const errorObj = {\n      message: `Error:${error.key}`\n    }\n    if (error.ids) {\n      errorObj.metadata = { info: error.ids.join(', ') }\n    }\n    finalResult.errors.push(errorObj)\n  })\n\n  maxLength && maxLength.forEach(error => {\n    const [key, subPath] = error.key.split(':')\n    finalResult.errors.push({\n      message: `${dataType} should have maximum of ${subPath} characters for property '${key}'.`,\n      metadata: formErrorMetadata(dataType, error.ids)\n    })\n  })\n\n  minLength && minLength.forEach(error => {\n    const [key, limit] = error.key.split(':')\n    finalResult.errors.push({\n      message: `${dataType} should have minimum of ${limit} character${limit > 1 ? 's' : ''} for property '${key}'.`,\n      metadata: formErrorMetadata(dataType, error.ids)\n    })\n  })\n\n  minItems && minItems.forEach(error => {\n    const [key, limit] = error.key.split(':')\n    finalResult.errors.push({\n      message: `${dataType} should have minimum of ${limit} ${limit > 1 ? key : key.slice(0, key.length - 1)}.`,\n      metadata: formErrorMetadata(dataType, error.ids)\n    })\n  })\n\n  uniqueKey && uniqueKey.forEach(error => {\n    const [key, value] = error.key.split(':')\n    finalResult.errors.push({\n      message: `${key} '${value}' is not unique.`,\n      metadata: formErrorMetadata(dataType, error.ids)\n    })\n  })\n\n  invalidURL && invalidURL.forEach(error => {\n    const [key, value] = error.key.split(':')\n    finalResult.errors.push({\n      message: `${key} has invalid url '${value}'.`,\n      metadata: formErrorMetadata(dataType, error.ids)\n    })\n  })\n\n  invalidTimestamp && invalidTimestamp.forEach(error => {\n    let [key, subPath] = error.key.split(':')\n    subPath = (subPath === dataType) ? '' : ` in '${subPath}'`\n    finalResult.errors.push({\n      message: `${dataType} has invalid timestamp for '${key}'${subPath}. Expecting a positive integer representing timestamp in epoch milliseconds not exceeding current timestamp.`,\n      metadata: formErrorMetadata(dataType, error.ids)\n    })\n  })\n\n  required && required.forEach(error => {\n    let [key, subPath] = error.key.split(':')\n    subPath = (subPath === dataType) ? '' : ` in '${subPath}'`\n    finalResult.errors.push({\n      message: `${dataType} should have required property '${key}'${subPath}.`,\n      metadata: formErrorMetadata(dataType, error.ids)\n    })\n  })\n\n  additionalProperties && additionalProperties.forEach(warning => {\n    let [key, subPath] = warning.key.split(':')\n    subPath = (subPath === dataType) ? '' : ` in '${subPath}'`\n    finalResult.warnings.push({\n      message: `${dataType} has additional property '${key}'${subPath}.`,\n      metadata: formErrorMetadata(dataType, warning.ids)\n    })\n  })\n\n  oldTimestamp && oldTimestamp.forEach(warning => {\n    let [key, subPath] = warning.key.split(':')\n    subPath = (subPath === dataType) ? '' : ` in '${subPath}'`\n    finalResult.warnings.push({\n      message: `${dataType} seems to have a very old timestamp for '${key}'${subPath}. Please check if the desired timestamp is provided in milliseconds.`,\n      metadata: formErrorMetadata(dataType, warning.ids)\n    })\n  })\n\n  pattern && pattern.forEach(error => {\n    const [key, stringPattern] = error.key.split(':')\n    finalResult.errors.push({\n      message: `Story has incorrect HTML string for property '${key}'.`,\n      metadata: formErrorMetadata(dataType, error.ids)\n    })\n  })\n\n  type && type.forEach(error => {\n    const [key, expectedType] = error.key.split(':')\n    finalResult.errors.push({\n      message: `${dataType} has wrong type for property '${key}'. Expected '${expectedType}'.`,\n      metadata: formErrorMetadata(dataType, error.ids)\n    })\n  })\n\n  wrongEnumValue && wrongEnumValue.forEach(error => {\n    const [key, expectedValue] = error.key.split(':')\n    finalResult.errors.push({\n      message: `${dataType} has incorrect value for property '${key}'. Allowed values are '${expectedValue.split(',').join(', ')}'.`,\n      metadata: formErrorMetadata(dataType, error.ids)\n    })\n  })\n\n  invalidSlug && invalidSlug.forEach(error => {\n    const [key, value] = error.key.split(':')\n    finalResult.errors.push({\n      message: `${key} '${value}' is invalid.`,\n      metadata: formErrorMetadata(dataType, error.ids)\n    })\n  })\n\n  invalidEmail && invalidEmail.forEach(error => {\n    const [key, value] = error.key.split(':')\n    finalResult.errors.push({\n      message: `${value ? `${key} id: '${value}' is not valid.` : `${key} id cannot be empty.`}`,\n      metadata: formErrorMetadata(dataType, error.ids)\n    })\n  })\n\n  authorNamesMismatch && authorNamesMismatch.forEach(error => {\n    const [key] = error.key.split(':')\n    const data = error.data;\n    finalResult.errors.push({\n      message: `${key} username: '${data.username}' & name: '${data.name}' are not same.`,\n      metadata: formErrorMetadata(dataType, error.ids)\n    })\n  })\n\n  invalidHeroImage && invalidHeroImage.forEach(error => {\n    const [key, value, value1] = error.key.split(':')\n    finalResult.errors.push({\n      message: `${key} '${value}:${value1}' is invalid. Example: domain/path/to/image.jpg`,\n      metadata: formErrorMetadata(dataType, error.ids)\n    })\n  })\n\n  return finalResult\n}\n\nexport { selectOptions, validateOptions, createRequest, parseResult }\n","import React from 'react'\nimport ResultList from './ResultList'\nimport FileDownload from './FileDownload'\nimport { Loader } from '@quintype/em/components/loader'\nimport styles from './migrator.module.css'\nimport { parseResult } from './validator-utils'\n\nexport default function Result ({ result }) {\n  const finalResult = result && parseResult(result)\n\n  return (\n    <>\n      {!finalResult\n        ? <>\n          <Loader />\n          <p className={styles.content}>\n          Please wait, validation is in progress. This can take 5-10\n          minutes. Please don't close the tab.\n          </p>\n        </>\n        : <>\n          <div className={styles['result-heading']}>\n            <div id={styles.heading}>Results</div>\n            <div id={styles.download}>\n              <a href={finalResult.errorFile} download={`result-${Date.now()}.csv`}>\n                <FileDownload />Download Report\n              </a>\n            </div>\n          </div>\n          <div className={styles['result-statistics']}>\n            <div>\n              <div className={styles['statistic-heading']}>Total validated {finalResult.dataType}</div>\n              <div className={styles['statistic-reading']}>{finalResult.total}</div>\n            </div>\n            <div>\n              <div className={styles['statistic-heading']}>Successfully validated</div>\n              <div className={styles['statistic-reading']}>\n                {finalResult.successful}<div id={styles['success-reading']} />\n              </div>\n            </div>\n            <div>\n              <div className={styles['statistic-heading']}>Failed {finalResult.dataType}</div>\n              <div className={styles['statistic-reading']}>\n                {finalResult.failed}<div id={styles['fail-reading']} />\n              </div>\n            </div>\n          </div>\n          <div className={styles['result-messages']}>\n            <ResultList finalResult={finalResult} />\n          </div>\n        </>}\n    </>\n  )\n}\n","import React from 'react'\nimport { TextArea } from '@quintype/em/components/text-area'\nimport { FileUpload } from '@quintype/em/components/file-upload'\n\nexport default function InputField ({ validateType, onInput, userData }) {\n  return validateType && (\n    <>\n      {(() => {\n        switch (validateType.value) {\n          case 'Direct text input' :\n            return (\n              <TextArea\n                label='Enter the Markup to validate:'\n                onChange={onInput}\n                value={userData}\n                placeholder='Enter the JSON data'\n              />)\n          case 'File upload' :\n            return (\n              <FileUpload\n                fieldLabel='Upload File'\n                placeholder='Choose file (only *.txt.gz)'\n                accepts='application/x-gzip'\n                size={3000000}\n                uploadFile={onInput}\n              />)\n          case 'S3 path' :\n            return (\n              <TextArea\n                label='Type url here'\n                onChange={onInput}\n                value={userData}\n                placeholder='Enter S3 path'\n              />)\n          default : return null\n        }\n      })()}\n    </>\n  )\n}\n","import React, { Component } from 'react'\nimport Select from '@quintype/em/components/select'\nimport { Button } from '@quintype/em/components/button'\nimport InputField from './InputField'\nimport { selectOptions, validateOptions, createRequest } from './validator-utils'\nimport { chunk } from 'lodash'\nimport { PromiseQueue } from './promise-concurrent-queue'\n\nconst promiseQueue = new PromiseQueue(5);\nexport default class ValidationForm extends Component {\n\n  constructor(props) {\n    super(props)\n    this.state = {\n      validateType: null,\n      selectType: null,\n      userData: ''\n    }\n  }\n\n  onChangeValidateType = validateType => {\n    this.setState({ validateType });\n  };\n\n  onChangeSelectType = selectType => {\n    this.setState({ selectType });\n  };\n\n  onInput = (textInput, fileInput) => {\n    const userData = textInput || fileInput || ''\n    this.setState({ userData });\n  };\n\n  mergeError = (accumulatedErrors, currentErrors) => {\n    for (const currentError of currentErrors) {\n      let accumulatedError = accumulatedErrors.find(err => err.key === currentError.key)\n      if (accumulatedError) {\n        accumulatedError.ids.concat(currentError.ids)\n      } else {\n        accumulatedErrors.push(currentError)\n      }\n    }\n    return accumulatedErrors\n  }\n\n  resultReducer = (accumulator, result) => {\n    for (const key in result) {\n      if (Array.isArray(result[key])) {\n        accumulator[key] = accumulator[key] ? this.mergeError(accumulator[key], result[key]) : result[key];\n      }\n      else if (typeof result[key] === 'number') {\n        accumulator[key] = accumulator[key] ? accumulator[key] + result[key] : result[key]\n      } else {\n        accumulator[key] = result[key]\n      }\n    }\n    return accumulator\n  }\n\n  validateFromS3 = async (requestOptions) => {\n    try {\n      const response = await fetch(`${process.env.REACT_APP_API_HOST || ''}/api/get-s3-files`, requestOptions)\n      const fileList = await response.json()\n      if (fileList.error) {\n        this.props.sendData({ result: fileList })\n        return\n      }\n      const validationPromises = [];\n      const smallFileList =  fileList.filter(file=>file.size<=1024*1024*2)\n      const largeFileList =  fileList.filter(file=>file.size>1024*1024*2)\n      for (let files of chunk(smallFileList, 2)) {\n        files=files.map(file=>file.key)\n        const s3FileListOption = createRequest(this.state.validateType, this.state.selectType, {\n          path: this.state.userData,\n          files\n        })\n        validationPromises.push(\n          promiseQueue.addPromise(\n            fetch ,`${process.env.REACT_APP_API_HOST || ''}/api/validate?source=S3`, s3FileListOption)\n            .then((response,rejection )=> {\n              if(rejection){\n                console.error(rejection);\n                throw(rejection);\n              }\n              return response.json()              \n            })\n        )\n      }\n      for (let files of chunk(largeFileList, 1)) {\n        files=files.map(file=>file.key)\n        const s3FileListOption = createRequest(this.state.validateType, this.state.selectType, {\n          path: this.state.userData,\n          files\n        })\n        validationPromises.push(\n          promiseQueue.addPromise(\n            fetch ,`${process.env.REACT_APP_API_HOST || ''}/api/validate?source=S3`, s3FileListOption)\n            .then((response,rejection )=> {\n              if(rejection){\n                console.error(rejection);\n                throw(rejection);\n              }\n              return response.json()              \n            })\n        )\n      }\n      let result = await Promise.all(validationPromises);\n      result = result.reduce(this.resultReducer, {})\n      this.props.sendData({ result })\n      return\n    } catch (err) {\n      console.log(err);\n      this.props.sendData({\n        result: {error: err.message}\n      })\n      return\n    }\n  }\n\n  onValidate = async (e) => {\n    e.preventDefault();\n    this.props.sendData({\n      formEnabled: false\n    })\n\n    const options = createRequest(this.state.validateType, this.state.selectType, this.state.userData)\n    if (this.state.validateType.value === 'S3 path') {\n      this.validateFromS3(options)\n    } else {\n      try {\n        const response = await fetch(`${process.env.REACT_APP_API_HOST || ''}/api/validate?source=${this.state.validateType.value.split(' ')[0]}`, options)\n        const result = await response.json()\n        this.props.sendData({ result })\n      } catch (err) {\n        console.log(err);\n        this.props.sendData({\n          result: {error:err.message}\n        })\n      }\n    }\n  }\n\n  render() {\n    const {\n      validateType,\n      selectType,\n      userData\n    } = this.state\n    const submitEnabled = validateType && selectType && userData\n\n    return (\n      <>\n        <Select\n          label='Select Type'\n          options={selectOptions}\n          value={selectType}\n          onChange={this.onChangeSelectType}\n        />\n        <Select\n          label='Validate by'\n          options={validateOptions}\n          value={validateType}\n          onChange={this.onChangeValidateType}\n        />\n        <InputField\n          userData={userData}\n          validateType={validateType}\n          onInput={this.onInput}\n          />\n          <Button\n            type='primary'\n            onClick={this.onValidate}\n            disabled={!submitEnabled}\n          >\n            Validate\n        </Button>\n      </>\n    )\n  }\n}\n","import { EventEmitter } from \"events\";\n\nexport class PromiseQueue extends EventEmitter {\n  promiseResolved = Symbol('resolved');\n  concurrentPromises = 1;\n  runningPromises = 0;\n  promiseQueue = [];\n  constructor(concurrentPromises) {\n    super();\n    this.concurrentPromises = concurrentPromises;\n    this.promiseQueue = [];\n  }\n\n  addPromise(f,...args) {\n    return new Promise((resolve, reject) => {\n      this.promiseQueue.push({ f,args, resolve, reject })\n      this.runPromise();\n    })\n  }\n\n  runPromise() {\n    if (this.runningPromises === this.concurrentPromises || this.promiseQueue.length === 0) {\n      return;\n    }\n    let item;\n    try {\n      this.runningPromises++;\n      item = this.promiseQueue.shift();\n      console.info(item)\n      item.f.apply(null,item.args)\n        .then((result, error) => {\n          if (error) {\n            item.reject(error);\n            return\n          }\n          item.resolve(result);\n          this.emit(this.promiseResolved)\n          this.runningPromises--\n          this.runPromise();\n        })\n    } catch (err) {\n      console.info(err);\n      item.reject(err)\n    }\n\n  }\n}","import React, { Component } from \"react\";\nimport Heading from './Heading'\nimport Result from './Result'\nimport styles from \"./migrator.module.css\";\nimport ValidationForm from './ValidationForm'\nimport \"@quintype/em/global.css\";\n\nexport default class Migrator extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      formEnabled: true,\n      result: ''\n    };\n  }\n\n  setData = (state) => {\n    this.setState(state)\n  }\n\n  render() {\n    const {\n      formEnabled,\n      result\n    } = this.state;\n    return (\n        <div className={styles.migrator}>\n        <Heading />\n        <div className={styles.container}>\n          {formEnabled ? \n            <ValidationForm\n              sendData={this.setData}\n              /> : (\n              <Result\n                result={result}\n              />\n          )}\n        </div>\n      </div>\n    );\n  }\n}\n\n","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nfunction Error404(){\n  return (\n    <div className=\"error-page\">\n      <h1>Not Found</h1>\n      <h3>Would you like to return <Link to=\"/website\">home</Link> instead?</h3>\n    </div>\n  );\n}\n\nexport default Error404;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.scss';\nimport { BrowserRouter as Router, Route, Switch, Redirect } from 'react-router-dom';\nimport { HomeComponent, Sidebar } from './home-component';\nimport Migrator from './migrator/Migrator'\nimport ErrorPage from \"./error-404\";\n\nclass Validator extends React.Component {\n  render() {\n    return (\n      <div>\n        <Router basename=\"/quintype-validator\">\n          <Sidebar />\n          <Switch>\n            <Redirect exact from=\"/\" to=\"/website\" />\n            <Route exact path=\"/website\" component={HomeComponent} />\n            <Route exact path=\"/migrator\" component={Migrator} />\n            <Route exact path=\"\" component={ ErrorPage }/>\n          </Switch>\n        </Router>\n      </div>\n\n    );\n  }\n}\n\nReactDOM.render(<Validator />, document.getElementById('root'));\n"],"sourceRoot":""}