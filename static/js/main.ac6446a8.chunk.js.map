{"version":3,"sources":["migrator.module.css","quintype-logo.js","home-component.js","migrator.js","index.tsx"],"names":["module","exports","QuintypeLogo","id","width","height","data-name","xmlns","viewBox","fill","d","GetUrlComponent","e","preventDefault","this","props","onSubmit","url","accepted","length","reader","FileReader","onload","x","onImport","JSON","parse","target","result","readAsText","Fragment","accept","onDrop","importResult","className","acceptClassName","rejectClassName","disableClick","submit","value","placeholder","onChange","type","React","Component","Sidebar","to","activeClassName","ResultSection","state","active","errors","warnings","expandable","children","onClick","setState","title","status","map","error","index","key","DebugSection","href","rel","_","results","entries","flatMap","category","debug","toRow","links","link","onValidate","Results","showResult","undefined","structured","numObjects","contentId","onDownload","HomeComponent","response","loading","request","post","process","then","body","catch","message","loadRules","blob","Blob","stringify","FileSaver","saveAs","processUrl","import","downloadResponse","selectOptions","label","validateOptions","Migrator","validateHandler","validateType","onChangeSelecthandler","selectType","handleChange","text","disabled","errorMessage","responseData","isResponse","isLoading","bind","handleclick","data","fetch","method","headers","Accept","json","err","concat","submitDisabled","styles","Heading","options","ResultsPage","Validator","basename","exact","from","path","component","ReactDOM","render","document","getElementById"],"mappings":"kHACAA,EAAOC,QAAU,CAAC,SAAW,2BAA2B,QAAU,0BAA0B,QAAU,0BAA0B,UAAY,8B,gSCI7HC,EAHM,kBACrB,yBAAKC,GAAG,UAAUC,MAAM,KAAKC,OAAO,KAAKC,YAAU,UAAUC,MAAM,6BAA6BC,QAAQ,aAAY,+BAAa,0BAAMC,KAAK,OAAOC,EAAE,mbCO/IC,E,+KACGC,GACLA,EAAEC,iBACFC,KAAKC,MAAMC,SAASF,KAAKC,MAAME,O,mCAGpBC,GAAW,IAAD,OACrB,GAAwB,IAApBA,EAASC,OAAb,CAEA,IAAMC,EAAS,IAAIC,WACnBD,EAAOE,OAAS,SAAAC,GAAC,OAAI,EAAKR,MAAMS,SAASC,KAAKC,MAAMH,EAAEI,OAAOC,UAC7DR,EAAOS,WAAWX,EAAS,O,+BAGnB,IAAD,OACP,OACE,kBAAC,IAAMY,SAAP,KACE,kBAAC,IAAD,CACEC,OAAO,mBACPC,OAAQ,SAAAd,GAAQ,OAAI,EAAKe,aAAaf,IACtCgB,UAAU,eACVC,gBAAgB,sBAChBC,gBAAgB,sBAChBC,cAAc,GAEd,0BAAMH,UAAU,gBAAgBlB,SAAU,SAAAJ,GAAC,OAAI,EAAK0B,OAAO1B,KACzD,2BACEsB,UAAU,YACVK,MAAOzB,KAAKC,MAAME,IAClBuB,YAAY,YACZC,SAAU,SAAA7B,GAAC,OAAI,EAAKG,MAAM0B,SAAS7B,EAAEe,OAAOY,UAE9C,2BAAOG,KAAK,SAASR,UAAU,SAASK,MAAM,e,GAhC5BI,IAAMC,WAwCvBC,EAAb,iLAEI,OACE,yBAAKX,UAAU,WACb,yBAAKA,UAAU,qBACb,kBAAC,EAAD,OAEF,yBAAKA,UAAU,QACb,yBAAKA,UAAU,mBACf,kBAAC,IAAD,CAASY,GAAG,WAAWZ,UAAU,SAASa,gBAAgB,aACxD,yBAAKb,UAAU,yBAGjB,yBAAKA,UAAU,mBACf,kBAAC,IAAD,CACEY,GAAG,YACHZ,UAAU,SACVa,gBAAgB,aAEhB,yBAAKb,UAAU,gCAnB3B,GAA6BS,IAAMC,W,IAoC7BI,E,YACJ,WAAYjC,GAAQ,IAAD,8BACjB,4CAAMA,KACDkC,MAAQ,CACXC,QAAQ,GAHO,E,sEAOT,IAAD,OACDC,EAASrC,KAAKC,MAAMa,OAAOuB,QAAU,GACrCC,EAAWtC,KAAKC,MAAMa,OAAOwB,UAAY,GACzCC,EACJvC,KAAKC,MAAMuC,UAAYH,EAAOhC,OAAS,GAAKiC,EAASjC,OAAS,EAChE,OACE,6BAASe,UAAS,iBAAYpB,KAAKmC,MAAMC,QAAU,WACjD,4BACEhB,UAAS,wBAAmBmB,GAAc,cAC1CE,QAAS,kBACPF,GAAc,EAAKG,SAAS,CAAEN,QAAS,EAAKD,MAAMC,WAGpD,yBAAKhB,UAAU,YACb,wBAAIA,UAAU,gBAAgBpB,KAAKC,MAAM0C,OACzC,wBACEvB,UAAS,sCACPpB,KAAKC,MAAMa,OAAO8B,OADX,YAELN,EAASjC,OAAS,EAAI,qBAAuB,KAEhDL,KAAKC,MAAMa,OAAO8B,UAIzB,yBAAKxB,UAAU,eACZpB,KAAKC,MAAMuC,UAAY,6BAAMxC,KAAKC,MAAMuC,UAExCH,EAAOhC,OAAS,GACf,6BACE,uCACA,4BACGgC,EAAOQ,KAAI,SAACC,EAAOC,GAAR,OACV,wBAAIC,IAAKD,GAAQD,QAMxBR,EAASjC,OAAS,GACjB,6BACE,yCACA,4BACGiC,EAASO,KAAI,SAACC,EAAOC,GAAR,OACZ,wBAAIC,IAAKD,GAAQD,c,GAnDPjB,IAAMC,W,IAwE5BmB,E,YACJ,WAAYhD,GAAQ,IAAD,8BACjB,4CAAMA,KACDkC,MAAQ,CACXC,QAAQ,GAHO,E,sEAOT,IAAD,OACP,OACE,6BAAShB,UAAS,iBAAYpB,KAAKmC,MAAMC,QAAU,WACjD,4BACEhB,UAAS,2BACTqB,QAAS,kBAAM,EAAKC,SAAS,CAAEN,QAAS,EAAKD,MAAMC,WAEnD,yBAAKhB,UAAU,YACb,wBAAIA,UAAU,gBAAd,eAGJ,yBAAKA,UAAU,eACb,oEACuC,IACrC,uBACE8B,KAAK,iDACLrC,OAAO,SACPsC,IAAI,uBAHN,cAQF,6BACE,+BACE,+BACE,4BACE,wCACA,mCACA,uCAGJ,+BACGC,IAAEpD,KAAKC,MAAMoD,SACXC,UACAC,SAAQ,mCAAEC,EAAF,KAAY1C,EAAZ,YACPsC,IAAEtC,EAAO2C,OACNH,UACAT,KAAI,mCAAEG,EAAF,KAAOvB,EAAP,YAvD3B,SAAe+B,EAAUR,EAAKvB,GAC5B,OACE,wBAAIuB,IAAG,UAAKQ,EAAL,YAAiBR,IACtB,4BAAKQ,GACL,wBAAIpC,UAAU,aAAa4B,GAC3B,4BAAKvB,IAkDkCiC,CAAMF,EAAUR,EAAKvB,MAC3CA,WAEJA,WAIRzB,KAAKC,MAAM0D,MAAMtD,OAAS,GACzB,6BACE,sCACA,4BACGL,KAAKC,MAAM0D,MAAMd,KAAI,SAACe,EAAMb,GAAP,OACpB,wBAAIC,IAAKD,GACP,4BAAQN,QAAS,kBAAM,EAAKxC,MAAM4D,WAAWD,KAA7C,YAEU,IAHZ,KAIKA,c,GA7DI/B,IAAMC,WAyE3BgC,E,iLACM,IAAD,OACDC,EAAa,SAACP,EAAUb,GAAX,OACjB,EAAK1C,MAAMoD,QAAQG,GACjB,kBAAC,EAAD,CAAeb,MAAOA,EAAO7B,OAAQ,EAAKb,MAAMoD,QAAQG,UAExDQ,GAGJ,OACE,yBAAK5C,UAAU,WACZ2C,EAAW,MAAO,OAClBA,EAAW,UAAW,mBACtB/D,KAAKC,MAAMoD,QAAQY,WAClB,kBAAC,EAAD,CACEtB,MAAM,kBACN7B,OAAQd,KAAKC,MAAMoD,QAAQY,YAE3B,mDACsBjE,KAAKC,MAAMoD,QAAQY,WAAWC,YAEpD,4CAAkBlE,KAAKC,MAAMoD,QAAQY,WAAWE,iBAGlDH,EAEDD,EAAW,KAAM,oBACjBA,EAAW,MAAO,aAClBA,EAAW,SAAU,UACrBA,EAAW,YAAa,aACxBA,EAAW,gBAAiB,kBAC5BA,EAAW,gBAAiB,OAC5BA,EAAW,YAAa,mBAEzB,kBAAC,EAAD,CACEV,QAASrD,KAAKC,MAAMoD,QACpBM,MAAO3D,KAAKC,MAAM0D,MAClBE,WAAY7D,KAAKC,MAAM4D,aAGzB,4BACEzC,UAAU,mBACVqB,QAAS,kBAAM,EAAKxC,MAAMmE,eAF5B,yB,GAxCcvC,IAAMC,WAmDfuC,EAAb,YACE,WAAYpE,GAAQ,IAAD,8BACjB,4CAAMA,KACDkC,MAAQ,CACXhC,IAAK,GACLmE,SAAU,KACVC,SAAS,EACTzB,MAAO,MANQ,EADrB,uEAWY3C,GAAM,IAAD,OACbqE,IACGC,KADH,UACWC,iCADX,sBACqE,CACjEvE,IAAKA,IAENwE,MAAK,SAAAL,GAAQ,OACZ,EAAK5B,SAAS,CACZ4B,SAAUA,EAASM,KACnBL,SAAS,EACTpE,IAAKmE,EAASM,KAAKzE,SAGtB0E,OAAM,SAAA/E,GAAC,OAAI,EAAK4C,SAAS,CAAE6B,SAAS,EAAOzB,MAAOhD,EAAEgF,eAvB3D,iCA0Ba3E,GAAM,IAAD,OACVH,KAAKmC,MAAMoC,SAEfvE,KAAK0C,SACH,CACEvC,IAAKA,EACLoE,SAAS,EACTzB,MAAO,OAET,kBAAM,EAAKiC,UAAU5E,QAnC3B,yCAwCI,IAAM6E,EAAO,IAAIC,KAAK,CAACtE,KAAKuE,UAAUlF,KAAKmC,MAAMmC,WAAY,CAC3D1C,KAAM,mCAERuD,IAAUC,OAAOJ,EAAM,oBA3C3B,6BA8CSV,GACLtE,KAAK0C,SAAS,CACZ4B,SAAUA,EACVxB,MAAO,KACPyB,SAAS,EACTpE,IAAKmE,EAASnE,QAnDpB,+BAuDY,IAAD,OACP,OACE,6BACE,wBAAIiB,UAAU,mBAAd,sBACA,kBAAC,EAAD,CACElB,SAAU,SAAAC,GAAG,OAAI,EAAKkF,WAAWlF,IACjCA,IAAKH,KAAKmC,MAAMhC,IAChBwB,SAAU,SAAAxB,GAAG,OAAI,EAAKuC,SAAS,CAAEvC,IAAKA,KACtCO,SAAU,SAAAI,GAAM,OAAI,EAAKwE,OAAOxE,MAEjCd,KAAKmC,MAAMW,OACV,yBAAK1B,UAAU,iBAAiBpB,KAAKmC,MAAMW,OAE5C9C,KAAKmC,MAAMoC,SAAW,yBAAKnD,UAAU,WAAf,sBACrBpB,KAAKmC,MAAMoC,SAAWvE,KAAKmC,MAAMmC,UACjC,kBAAC,EAAD,CACEjB,QAASrD,KAAKmC,MAAMmC,SAASjB,QAC7BM,MAAO3D,KAAKmC,MAAMmC,SAASX,MAC3BE,WAAY,SAAA1D,GAAG,OAAI,EAAKkF,WAAWlF,IACnCA,IAAKH,KAAKmC,MAAMmC,SAASnE,IACzBiE,WAAY,kBAAM,EAAKmB,2BA3EnC,GAAmC1D,IAAMC,W,yDClRnC0D,G,MAAgB,CAAC,CAAEC,MAAO,QAAShE,MAAO,WAE1CiE,EAAkB,CACtB,CAAED,MAAO,oBAAqBhE,MAAO,sBAE1BkE,EAAb,YACE,WAAY1F,GAAQ,IAAD,8BACjB,4CAAMA,KAgBR2F,gBAAiB,SAAAC,GACf,EAAKnD,SAAS,CAACmD,kBAlBE,EAqBnBC,sBAAwB,SAAAC,GACtB,EAAKrD,SAAS,CAAEqD,gBAtBC,EAyBnBC,aAAe,SAAAvE,GACb,EAAKiB,SAAS,CAAEuD,KAAMxE,KAxBtB,EAAKU,MAAQ,CACX0D,aAAc,KACdE,WAAY,KACZG,UAAU,EACVD,KAAM,GACNE,aAAc,GACdC,aAAc,GACdC,YAAY,EACZC,WAAW,GAEb,EAAKV,gBAAkB,EAAKA,gBAAgBW,KAArB,gBACvB,EAAKT,sBAAwB,EAAKA,sBAAsBS,KAA3B,gBAC7B,EAAKP,aAAe,EAAKA,aAAaO,KAAlB,gBACpB,EAAKC,YAAc,EAAKA,YAAYD,KAAjB,gBAfF,EADrB,yEA8BczG,GAAI,IAAD,OACbA,EAAEC,iBACFC,KAAK0C,SAAS,CACZwD,UAAWlG,KAAKmC,MAAM+D,SACtBI,WAAW,IAEb,IAAMG,EAAO,CACX7E,KAAM5B,KAAKmC,MAAM4D,WAAWtE,MAC5BgF,KAAM9F,KAAKC,MAAMZ,KAAKmC,MAAM8D,OAE9BS,MAAM,GAAD,OAAIhC,iCAAJ,iBAAyD,CAC5DiC,OAAQ,OACRC,QAAS,CACPC,OAAQ,mBACR,eAAgB,oBAElBjC,KAAM6B,IAEL9B,MAAK,SAAAL,GACJ,OAAOA,EAASwC,UAEjBjC,OAAM,SAAAkC,GACL,EAAKrE,SAAS,CAAEyD,aAAcY,EAAIjC,aAEnCH,MAAK,SAAAL,GACJ,EAAK5B,SAAS,CACZ0D,aAAc,EAAKjE,MAAMiE,aAAaY,OAAO1C,GAC7C+B,YAAY,EACZC,WAAW,SA1DrB,+BA8DY,IAAD,SAUHtG,KAAKmC,MARV0D,EAFQ,EAERA,aACGE,EAHK,EAGLA,WACAE,EAJK,EAILA,KACAK,EALK,EAKLA,UACAJ,EANK,EAMLA,SACAC,EAPK,EAOLA,aACAE,EARK,EAQLA,WACAD,EATK,EASLA,aAEIa,EAAgBpB,GAAgBE,GAAcE,EACpD,OACE,yBAAK7E,UAAW8F,IAAM,UACnBhB,IAAaG,EACZ,6BACE,kBAACc,EAAD,MACA,yBAAK/F,UAAW8F,IAAM,WACpB,kBAAC,IAAD,CACEzB,MAAM,cACN2B,QAAS5B,EACT/D,MAAOsE,EACPpE,SAAU,SAAA7B,GAAC,OAAI,EAAKgG,sBAAsBhG,MAE5C,kBAAC,IAAD,CACE2F,MAAM,cACN2B,QAAS1B,EACTjE,MAAOoE,EACPlE,SAAU,SAAA7B,GAAC,OAAI,EAAK8F,gBAAgB9F,MAEtC,8BACG+F,GAAsC,sBAAvBA,EAAapE,MAC3B,kBAAC,IAAD,CACEgE,MAAM,gCACN9D,SAAU,SAAAF,GAAK,OAAI,EAAKuE,aAAavE,IACrCA,MAAOwE,EACPvE,YAAa,wBAEb,KACJ,kBAAC,IAAD,CACEE,KAAK,UACLa,QAAS,SAAA3C,GAAC,OAAI,EAAK0G,YAAY1G,IAC/BoG,UAAWe,GAHb,eAWN,6BACGX,EACC,kBAACe,EAAD,MAEA,6BAAM1G,KAAKuE,UAAUkB,EAAa,GAAI,KAAM,KAIjDD,GAAgB,iCAAOA,EAAP,UAxHzB,GAA8BrE,aA8H9B,SAASuF,IACP,OACE,yBAAKjG,UAAU,YACb,kBAAC+F,EAAD,MACA,yBAAK/F,UAAW8F,IAAM,WACpB,uCACA,kBAAC,IAAD,MACA,uBAAG9F,UAAW8F,IAAM,SAApB,qGASR,SAASC,IACP,OACE,6BAAS/F,UAAW8F,IAAO,qBACzB,wBAAI9F,UAAW8F,IAAM,SAArB,uBACA,uBAAG9F,UAAW8F,IAAM,SAApB,yMAQSC,IChKTG,E,iLAEF,OACE,6BACE,kBAAC,IAAD,CAAQC,SAAS,uBACf,kBAAC,EAAD,MACA,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAUC,OAAK,EAACC,KAAK,IAAIzF,GAAG,aAC5B,kBAAC,IAAD,CAAOwF,OAAK,EAACE,KAAK,WAAWC,UAAWtD,IACxC,kBAAC,IAAD,CAAOmD,OAAK,EAACE,KAAK,YAAYC,UAAWhC,W,GAT7B9D,IAAMC,WAkB9B8F,IAASC,OAAO,kBAAC,EAAD,MAAeC,SAASC,eAAe,W","file":"static/js/main.ac6446a8.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"migrator\":\"migrator_migrator__1WwjM\",\"heading\":\"migrator_heading__1EF9A\",\"content\":\"migrator_content__36-Ig\",\"container\":\"migrator_container__5T6E9\"};","import React from \"react\";\n\nconst QuintypeLogo = () => (\n<svg id=\"Layer_1\" width=\"48\" height=\"48\" data-name=\"Layer 1\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 40 40\"><defs></defs><path fill=\"#fff\" d=\"M23.58,11.75a18.09,18.09,0,0,1,0,17.89Zm0,18.79a10.79,10.79,0,0,1-4.34.15c-2.62-.38-4.06-3.6-4.06-3.6l6.21-1.72v-16l2.19,2.23ZM14,20.91c0-3.16.22-7.12.22-7.12l2.18-.85V26.79L15,27.25A25.11,25.11,0,0,1,14,20.91Zm17.74,9.62-1.35,1.71a4.44,4.44,0,0,0-5.26-2s7-4.58,6.27-12.4A17,17,0,0,0,24.74,5.8c-.38-.24-5.52,5.64-10.84,7.14,0,0,.24-5.55,4.24-6V6.18S8,7.66,8,20.11c0,0,.39,10.85,10.79,11.31l4,.18s3.41-.18,4.1,4.75l.52.44,4.55-6Z\"></path></svg>\n)\nexport default QuintypeLogo;","import \"./app.scss\";\n\nimport React from \"react\";\nimport request from \"superagent-bluebird-promise\";\nimport Dropzone from \"react-dropzone\";\nimport { NavLink } from \"react-router-dom\";\nimport _ from \"lodash\";\n\nimport FileSaver from \"file-saver\";\nimport QuintypeLogo from \"./quintype-logo\";\nclass GetUrlComponent extends React.Component {\n  submit(e) {\n    e.preventDefault();\n    this.props.onSubmit(this.props.url);\n  }\n\n  importResult(accepted) {\n    if (accepted.length !== 1) return;\n\n    const reader = new FileReader();\n    reader.onload = x => this.props.onImport(JSON.parse(x.target.result));\n    reader.readAsText(accepted[0]);\n  }\n\n  render() {\n    return (\n      <React.Fragment>\n        <Dropzone\n          accept=\"application/json\"\n          onDrop={accepted => this.importResult(accepted)}\n          className=\"url-dropzone\"\n          acceptClassName=\"url-dropzone-accept\"\n          rejectClassName=\"url-dropzone-reject\"\n          disableClick={true}\n        >\n          <form className=\"url-container\" onSubmit={e => this.submit(e)}>\n            <input\n              className=\"url-input\"\n              value={this.props.url}\n              placeholder=\"Enter Url\"\n              onChange={e => this.props.onChange(e.target.value)}\n            />\n            <input type=\"submit\" className=\"url-go\" value=\"Go!\" />\n          </form>\n        </Dropzone>\n      </React.Fragment>\n    );\n  }\n}\n\nexport class Sidebar extends React.Component {\n  render() {\n    return (\n      <div className=\"sidebar\">\n        <div className=\"sidebar-container\">\n          <QuintypeLogo />\n        </div>\n        <div className=\"menu\">\n          <div className=\"menu__container\">\n          <NavLink to=\"/website\" className=\"navbar\" activeClassName=\"is-active\">\n            <div className=\"menu__website logo\"></div>\n          </NavLink>\n          </div>\n          <div className=\"menu__container\">\n          <NavLink\n            to=\"/migrator\"\n            className=\"navbar\"\n            activeClassName=\"is-active\"\n          >\n            <div className=\"menu__migrator logo\"></div>\n          </NavLink>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport function Migrator() {\n  return (\n    <div>\n      \n    </div>\n  );\n}\n\nclass ResultSection extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      active: false\n    };\n  }\n\n  render() {\n    const errors = this.props.result.errors || [];\n    const warnings = this.props.result.warnings || [];\n    const expandable =\n      this.props.children || errors.length > 0 || warnings.length > 0;\n    return (\n      <section className={`result ${this.state.active && \"active\"}`}>\n        <header\n          className={`result-header ${expandable && \"expandable\"}`}\n          onClick={() =>\n            expandable && this.setState({ active: !this.state.active })\n          }\n        >\n          <div className=\"clearfix\">\n            <h2 className=\"result-title\">{this.props.title}</h2>\n            <h3\n              className={`result-status result-status-${\n                this.props.result.status\n              } ${warnings.length > 0 ? \"result-status-WARN\" : \"\"}`}\n            >\n              {this.props.result.status}\n            </h3>\n          </div>\n        </header>\n        <div className=\"result-body\">\n          {this.props.children && <div>{this.props.children}</div>}\n\n          {errors.length > 0 && (\n            <div>\n              <h4>Errors:</h4>\n              <ul>\n                {errors.map((error, index) => (\n                  <li key={index}>{error}</li>\n                ))}\n              </ul>\n            </div>\n          )}\n\n          {warnings.length > 0 && (\n            <div>\n              <h4>Warnings:</h4>\n              <ul>\n                {warnings.map((error, index) => (\n                  <li key={index}>{error}</li>\n                ))}\n              </ul>\n            </div>\n          )}\n        </div>\n      </section>\n    );\n  }\n}\n\nfunction toRow(category, key, value) {\n  return (\n    <tr key={`${category}/${key}`}>\n      <td>{category}</td>\n      <td className=\"debug-key\">{key}</td>\n      <td>{value}</td>\n    </tr>\n  );\n}\n\nclass DebugSection extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      active: false\n    };\n  }\n\n  render() {\n    return (\n      <section className={`result ${this.state.active && \"active\"}`}>\n        <header\n          className={`result-header expandable`}\n          onClick={() => this.setState({ active: !this.state.active })}\n        >\n          <div className=\"clearfix\">\n            <h2 className=\"result-title\">Debugging</h2>\n          </div>\n        </header>\n        <div className=\"result-body\">\n          <div>\n            For a full list of rules, please see{\" \"}\n            <a\n              href=\"https://github.com/quintype/quintype-validator\"\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n            >\n              Readme.md\n            </a>\n          </div>\n          <div>\n            <table>\n              <thead>\n                <tr>\n                  <th>Category</th>\n                  <th>Key</th>\n                  <th>Value</th>\n                </tr>\n              </thead>\n              <tbody>\n                {_(this.props.results)\n                  .entries()\n                  .flatMap(([category, result]) =>\n                    _(result.debug)\n                      .entries()\n                      .map(([key, value]) => toRow(category, key, value))\n                      .value()\n                  )\n                  .value()}\n              </tbody>\n            </table>\n          </div>\n          {this.props.links.length > 0 && (\n            <div>\n              <h4>Links:</h4>\n              <ul>\n                {this.props.links.map((link, index) => (\n                  <li key={index}>\n                    <button onClick={() => this.props.onValidate(link)}>\n                      validate\n                    </button>{\" \"}\n                    - {link}\n                  </li>\n                ))}\n              </ul>\n            </div>\n          )}\n        </div>\n      </section>\n    );\n  }\n}\n\nclass Results extends React.Component {\n  render() {\n    const showResult = (category, title) =>\n      this.props.results[category] ? (\n        <ResultSection title={title} result={this.props.results[category]} />\n      ) : (\n        undefined\n      );\n\n    return (\n      <div className=\"results\">\n        {showResult(\"amp\", \"AMP\")}\n        {showResult(\"headers\", \"Caching Headers\")}\n        {this.props.results.structured ? (\n          <ResultSection\n            title=\"Structured Data\"\n            result={this.props.results.structured}\n          >\n            <div>\n              Number of Objects: {this.props.results.structured.numObjects}\n            </div>\n            <div>Content Id: {this.props.results.structured.contentId}</div>\n          </ResultSection>\n        ) : (\n          undefined\n        )}\n        {showResult(\"og\", \"Facebook OG Tags\")}\n        {showResult(\"seo\", \"SEO Rules\")}\n        {showResult(\"robots\", \"Robots\")}\n        {showResult(\"pagespeed\", \"PageSpeed\")}\n        {showResult(\"lighthouseSeo\", \"Lighthouse SEO\")}\n        {showResult(\"lighthousePwa\", \"PWA\")}\n        {showResult(\"routeData\", \"Route Data Size\")}\n\n        <DebugSection\n          results={this.props.results}\n          links={this.props.links}\n          onValidate={this.props.onValidate}\n        />\n\n        <button\n          className=\"results-download\"\n          onClick={() => this.props.onDownload()}\n        >\n          Download As JSON\n        </button>\n      </div>\n    );\n  }\n}\n\nexport class HomeComponent extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      url: \"\",\n      response: null,\n      loading: false,\n      error: null\n    };\n  }\n\n  loadRules(url) {\n    request\n      .post(`${process.env.REACT_APP_API_HOST || \"\"}/api/validate.json`, {\n        url: url\n      })\n      .then(response =>\n        this.setState({\n          response: response.body,\n          loading: false,\n          url: response.body.url\n        })\n      )\n      .catch(e => this.setState({ loading: false, error: e.message }));\n  }\n\n  processUrl(url) {\n    if (this.state.loading) return;\n\n    this.setState(\n      {\n        url: url,\n        loading: true,\n        error: null\n      },\n      () => this.loadRules(url)\n    );\n  }\n\n  downloadResponse() {\n    const blob = new Blob([JSON.stringify(this.state.response)], {\n      type: \"application/json;charset=utf-8\"\n    });\n    FileSaver.saveAs(blob, \"validator.json\");\n  }\n\n  import(response) {\n    this.setState({\n      response: response,\n      error: null,\n      loading: false,\n      url: response.url\n    });\n  }\n\n  render() {\n    return (\n      <div>\n        <h1 className=\"website-heading\">Quintype Validator</h1>\n        <GetUrlComponent\n          onSubmit={url => this.processUrl(url)}\n          url={this.state.url}\n          onChange={url => this.setState({ url: url })}\n          onImport={result => this.import(result)}\n        />\n        {this.state.error && (\n          <div className=\"error-message\">{this.state.error}</div>\n        )}\n        {this.state.loading && <div className=\"loading\">Crunching Numbers</div>}\n        {!this.state.loading && this.state.response && (\n          <Results\n            results={this.state.response.results}\n            links={this.state.response.links}\n            onValidate={url => this.processUrl(url)}\n            url={this.state.response.url}\n            onDownload={() => this.downloadResponse()}\n          />\n        )}\n      </div>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport styles from \"./migrator.module.css\";\nimport Select from \"@quintype/em/components/select\";\nimport { Button } from \"@quintype/em/components/button\";\nimport { TextArea } from \"@quintype/em/components/text-area\";\nimport { Loader } from \"@quintype/em/components/loader\";\nimport \"@quintype/em/global.css\";\n\nconst selectOptions = [{ label: \"Story\", value: \"Story\" }];\n\nconst validateOptions = [\n  { label: \"Direct text input\", value: \"Direct text input\" }\n];\nexport class Migrator extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      validateType: null,\n      selectType: null,\n      disabled: true,\n      text: \"\",\n      errorMessage: \"\",\n      responseData: [],\n      isResponse: false,\n      isLoading: false\n    };\n    this.validateHandler = this.validateHandler.bind(this);\n    this.onChangeSelecthandler = this.onChangeSelecthandler.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n    this.handleclick = this.handleclick.bind(this);\n  }\n  validateHandler =validateType => {\n    this.setState({validateType });\n  };\n\n  onChangeSelecthandler = selectType => {\n    this.setState({ selectType });\n  };\n\n  handleChange = value => {\n    this.setState({ text: value });\n  };\n\n  handleclick(e) {\n    e.preventDefault();\n    this.setState({\n      disabled: !this.state.disabled,\n      isLoading: true\n    });\n    const data = {\n      type: this.state.selectType.value,\n      data: JSON.parse(this.state.text)\n    };\n    fetch(`${process.env.REACT_APP_API_HOST || \"\"}/api/validate`, {\n      method: \"POST\",\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\"\n      },\n      body: data\n    })\n      .then(response => {\n        return response.json();\n      })\n      .catch(err => {\n        this.setState({ errorMessage: err.message });\n      })\n      .then(response => {\n        this.setState({\n          responseData: this.state.responseData.concat(response),\n          isResponse: true,\n          isLoading: false\n        });\n      });\n  }\n  render() {\n    const {\n   validateType,\n      selectType,\n      text,\n      isLoading,\n      disabled,\n      errorMessage,\n      isResponse,\n      responseData\n    } = this.state;\n    const submitDisabled =validateType && selectType && text;\n    return (\n      <div className={styles[\"migrator\"]}>\n        {disabled && !isResponse ? (\n          <div>\n            <Heading />\n            <div className={styles[\"container\"]}>\n              <Select\n                label=\"Select Type\"\n                options={selectOptions}\n                value={selectType}\n                onChange={e => this.onChangeSelecthandler(e)}\n              />\n              <Select\n                label=\"Validate by\"\n                options={validateOptions}\n                value={validateType}\n                onChange={e => this.validateHandler(e)}\n              />\n              <form>\n                {validateType &&validateType.value === \"Direct text input\" ? (\n                  <TextArea\n                    label=\"Enter the Markup to validate:\"\n                    onChange={value => this.handleChange(value)}\n                    value={text}\n                    placeholder={\"Enter the JSON data\"}\n                  />\n                ) : null}\n                <Button\n                  type=\"primary\"\n                  onClick={e => this.handleclick(e)}\n                  disabled={!submitDisabled}\n                >\n                  Validate\n                </Button>\n              </form>\n            </div>\n          </div>\n        ) : (\n          <div>\n            {isLoading ? (\n              <ResultsPage />\n            ) : (\n              <pre>{JSON.stringify(responseData[0], null, 2)}</pre>\n            )}\n          </div>\n        )}\n        {errorMessage && <pre> {errorMessage} </pre>}\n      </div>\n    );\n  }\n}\n\nfunction ResultsPage() {\n  return (\n    <div className=\"migrator\">\n      <Heading />\n      <div className={styles[\"container\"]}>\n        <h1>Results</h1>\n        <Loader />\n        <p className={styles[\"content\"]}>\n          Please wait, validation is in progress. This can take 5-10 minutes.\n          Please don't close the tab.\n        </p>\n      </div>\n    </div>\n  );\n}\n\nfunction Heading() {\n  return (\n    <section className={styles[\"migrator-heading\"]}>\n      <h1 className={styles[\"heading\"]}>Migration Validator</h1>\n      <p className={styles[\"content\"]}>\n        Migration Data Validator checks for the intermediate files for JSON\n        schema errors, File type & encoding errors and mandatory errors and\n        generates a report after the validation process is completed\n      </p>\n    </section>\n  );\n}\nexport default Heading;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.scss';\nimport { BrowserRouter as Router, Route, Switch, Redirect } from 'react-router-dom';\nimport { HomeComponent, Sidebar } from './home-component';\nimport { Migrator } from \"./migrator\";\n\nclass Validator extends React.Component {\n  render() {\n    return (\n      <div>\n        <Router basename=\"/quintype-validator\">\n          <Sidebar />\n          <Switch>\n            <Redirect exact from=\"/\" to=\"/website\" />\n            <Route exact path=\"/website\" component={HomeComponent} />\n            <Route exact path=\"/migrator\" component={Migrator} />\n          </Switch>\n        </Router>\n      </div>\n\n    );\n  }\n}\n\nReactDOM.render(<Validator />, document.getElementById('root'));\n"],"sourceRoot":""}